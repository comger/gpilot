# G-Pilot V1.0 - æ™ºèƒ½æ”¿åŠ¡å½•åˆ¶åŠ©æ‰‹

> æ¼”ç¤ºå³æ–‡æ¡£ï¼Œå½•åˆ¶å³çŸ¥è¯†ï¼Œå…è´¹ä¼˜å…ˆï¼Œé›¶æ•°æ®å‡ºå¢ƒ

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
G-Pilot/
â”œâ”€â”€ backend/                    # Go åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ cmd/server/main.go      # å…¥å£
â”‚   â”œâ”€â”€ internal/
â”‚   â”‚   â”œâ”€â”€ api/                # HTTP Handlerï¼ˆGinï¼‰
â”‚   â”‚   â”œâ”€â”€ service/            # ä¸šåŠ¡é€»è¾‘ï¼ˆAIè·¯ç”±ã€æ–‡æ¡£ç”Ÿæˆï¼‰
â”‚   â”‚   â”œâ”€â”€ db/                 # GORM æ•°æ®æ¨¡å‹ + SQLite
â”‚   â”‚   â””â”€â”€ config/             # ç¯å¢ƒå˜é‡é…ç½®
â”‚   â””â”€â”€ .env.example            # é…ç½®æ¨¡æ¿
â”‚
â”œâ”€â”€ extension/                  # Chrome æ‰©å±•ï¼ˆReact + TypeScript + Viteï¼‰
â”‚   â”œâ”€â”€ manifest.json           # Manifest V3
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ background/         # Service Workerï¼ˆæ¶ˆæ¯è·¯ç”±ï¼‰
â”‚   â”‚   â”œâ”€â”€ content/            # Content Scriptï¼ˆäº‹ä»¶æ•è· + è„±æ• + æ‚¬æµ®æ§åˆ¶å°ï¼‰
â”‚   â”‚   â”œâ”€â”€ popup/              # Popup UIï¼ˆReactï¼‰
â”‚   â”‚   â””â”€â”€ shared/             # å…±äº«ç±»å‹ + å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ dist/                   # æ„å»ºäº§ç‰©ï¼ˆåŠ è½½åˆ° Chromeï¼‰
â”‚
â”œâ”€â”€ Makefile                    # æ„å»ºå…¥å£
â”œâ”€â”€ architecture.md             # æ¶æ„è®¾è®¡æ–‡æ¡£ V2.0
â””â”€â”€ prd.md                      # äº§å“éœ€æ±‚æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é…ç½® API Keyï¼ˆé€‰ä¸€ä¸ªå…è´¹çš„å³å¯ï¼‰

```bash
cd backend
cp .env.example .env
# ç¼–è¾‘ .envï¼Œå¡«å…¥è‡³å°‘ä¸€ä¸ªå…è´¹ Keyï¼š
# - GEMINI_API_KEYï¼ˆæ¨èï¼Œhttps://aistudio.google.comï¼‰
# - ZHIPU_API_KEYï¼ˆå›½å†…é¦–é€‰ï¼Œhttps://open.bigmodel.cnï¼‰
# - æˆ–å®‰è£… Ollama æœ¬åœ°è¿è¡Œï¼ˆå®Œå…¨å…è´¹ï¼Œollama pull qwen2.5-vl:7bï¼‰
```

### 2. å¯åŠ¨åç«¯

```bash
# æ–¹å¼ä¸€ï¼šç›´æ¥è¿è¡Œ
cd backend && go run cmd/server/main.go

# æ–¹å¼äºŒï¼šæ„å»ºåè¿è¡Œ
make backend && ./backend/build/gpilot-server

# æ–¹å¼ä¸‰ï¼šä½¿ç”¨ Makefile
make run-backend
```

åç«¯å¯åŠ¨åï¼šhttp://localhost:3210/health

### 3. æ„å»º Chrome æ‰©å±•

```bash
# éœ€è¦ Node.js 18+ï¼ˆé€šè¿‡ nvm åˆ‡æ¢ï¼šnvm use 18.17.1ï¼‰
make extension
# æˆ–
cd extension && npm run build
```

### 4. å®‰è£…æ‰©å±•åˆ° Chrome

1. æ‰“å¼€ `chrome://extensions/`
2. å¼€å¯ã€Œå¼€å‘è€…æ¨¡å¼ã€
3. ç‚¹å‡»ã€ŒåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºã€
4. é€‰æ‹© `extension/dist/` ç›®å½•

---

## âš¡ VLM å…è´¹ä¼˜å…ˆè·¯ç”±

ç³»ç»Ÿè‡ªåŠ¨æŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§é€‰æ‹© VLMï¼ˆæ— éœ€ä»˜è´¹å³å¯ä½¿ç”¨å…¨éƒ¨åŠŸèƒ½ï¼‰ï¼š

| ä¼˜å…ˆçº§ | æä¾›å•† | å…è´¹é¢åº¦ | æ³¨å†Œåœ°å€ |
|--------|--------|----------|----------|
| ğŸ¥‡ 1 | Ollama æœ¬åœ° | æ— é™åˆ¶ | https://ollama.com |
| ğŸ¥ˆ 2 | æ™ºè°± GLM-4V-Flash | 100ä¸‡ Token/å¤© | https://open.bigmodel.cn |
| ğŸ¥‰ 3 | Google Gemini 2.0 Flash | 1500æ¬¡è¯·æ±‚/å¤© | https://aistudio.google.com |
| 4 | OpenRouter Qwen2.5-VL | æœ‰å…è´¹é…é¢ | https://openrouter.ai |
| 5 | OpenAI GPT-4o-mini | ä»˜è´¹ | https://platform.openai.com |

---

## ğŸ”Œ åç«¯ API

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/health` | å¥åº·æ£€æŸ¥ |
| GET/POST | `/api/v1/projects` | é¡¹ç›®ç®¡ç† |
| GET/POST | `/api/v1/sessions` | å½•åˆ¶ä¼šè¯ |
| POST | `/api/v1/sessions/:id/steps` | ä¿å­˜æ“ä½œæ­¥éª¤ + æˆªå›¾ |
| GET | `/api/v1/sessions/:id/generate` | SSE æµå¼ç”Ÿæˆæ–‡æ¡£ |
| GET | `/api/v1/documents/:docId/export` | å¯¼å‡ºæ–‡æ¡£ (md/json) |
| GET | `/api/v1/ai/providers/status` | VLM çŠ¶æ€æŸ¥è¯¢ |
| PUT | `/api/v1/llm/providers` | é…ç½® VLM æä¾›å•† |

---

## ğŸ”’ éšç§ä¸å®‰å…¨

- âœ… **æœ¬åœ°å¤„ç†**ï¼šæ‰€æœ‰ DOM è§£æå’Œæˆªå›¾è„±æ•åœ¨æµè§ˆå™¨æœ¬åœ°å®Œæˆ
- âœ… **è„±æ•ä¼˜å…ˆ**ï¼šæˆªå›¾åœ¨ä¸Šä¼ å‰å·²é€šè¿‡ Canvas é®ç½©å¤„ç†
- âœ… **API Key éš”ç¦»**ï¼šå¯†é’¥ä»…å­˜å‚¨åœ¨åç«¯æœåŠ¡å™¨ç¯å¢ƒå˜é‡ï¼Œä¸æš´éœ²ç»™æ‰©å±•
- âœ… **å³ç‚¹å³è„±æ•**ï¼šç”¨æˆ·å¯æ‰‹åŠ¨æ ‡è®°ä»»æ„é¡µé¢å…ƒç´ ä¸ºè„±æ•åŒºåŸŸ
- âœ… **å†…ç½®è§„åˆ™**ï¼šæ‰‹æœºå·ã€èº«ä»½è¯ã€é‚®ç®±ã€é“¶è¡Œå¡å·è‡ªåŠ¨è„±æ•

---

## ğŸ›£ï¸ è·¯çº¿å›¾

- **V1.0ï¼ˆå½“å‰ï¼‰**ï¼šå½•åˆ¶ + è„±æ• + AI æ–‡æ¡£ç”Ÿæˆ
- **V2.0**ï¼šæœ¬ä½“è®ºçŸ¥è¯†å›¾è°± + çŸ¥è¯†ç§¯ç´¯
- **V3.0**ï¼šä¸šåŠ¡ç³»ç»Ÿç»“æ„è‡ªåŠ¨æ¨æ–­
- **V4.0**ï¼šAI åŸ¹è®­åŠ©æ‰‹ï¼ˆRAGï¼‰
- **V5.0**ï¼šRPA è„šæœ¬è‡ªåŠ¨ç”Ÿæˆ
